<script src="https://cdn.jsdelivr.net/npm/pi-network-sdk/dist/pi-network.min.js"></script>
<script>
  const pi = new PiNetwork({ sandbox: true });

  async function processTransaction() {
    const statusEl = document.getElementById("transaction-status");

    try {
      // Step 1: Request user login
      const user = await pi.requestLogin();
      if (!user.loggedIn) {
        statusEl.textContent = "❌ Please login to Pi Wallet first!";
        return;
      }

      // Step 2: Process Testnet transaction
      const tx = await pi.transaction({
        recipient: "PUT_YOUR_TESTNET_APP_WALLET_HERE", // Your Testnet app wallet
        amount: "0.01", // Small Testnet Pi
        currency: "Pi",
        memo: "Stage 10 Test"
      });

      console.log(tx); // Optional: for debug
      statusEl.textContent = "✅ Testnet transaction successful! Stage 10 complete.";
    } catch (err) {
      console.error(err);
      statusEl.textContent = "❌ Transaction failed. Check console for details.";
    }
  }

  document.getElementById("stage10-btn").addEventListener("click", processTransaction);
</script>
